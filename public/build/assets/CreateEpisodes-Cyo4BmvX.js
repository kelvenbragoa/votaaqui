import{s as F}from"./index-GLopVJHN.js";import{s as S}from"./index-CyretVdz.js";import{s as P}from"./index-C5307mA7.js";import{s as N}from"./index-MAY3iOVb.js";import{s as B}from"./index-CQUyaqz_.js";import{s as D}from"./index-DZH9jj3E.js";import{s as A}from"./index-COncegFj.js";import{s as I}from"./index-CwTYHPBj.js";import{_ as L,x as M,r as _,o as q,c as i,b as s,d as a,e as z,h as c,s as r,t as u,m as n,j as x,l as d,q as O}from"./app-BK5PDX-r.js";import"./index-D9eAeQJc.js";import"./index-QyN7qbex.js";import"./index-CMWl7dqn.js";import"./index-Cxymk2_f.js";import"./index-Cro9yEBy.js";import"./index-CFwcNhfm.js";import"./index-BMXDJhuM.js";import"./index-BcTlFX1t.js";import"./index-D5BYV45H.js";import"./index-Dnn4EMN7.js";import"./index-C9nbY_HC.js";import"./index-IjIiq9gX.js";import"./index-DWMB6ar4.js";const J={class:"grid"},R={class:"col-12"},G={class:"card"},H={class:"flex justify-content-between align-items-center mb-4"},K={class:"grid"},Q={class:"col-12 md:col-6"},W={class:"field"},X={key:0,class:"p-error"},Y={class:"col-12 md:col-6"},Z={class:"field"},ee={key:0,class:"p-error"},se={class:"col-12"},le={class:"field"},oe={key:0,class:"p-error"},te={class:"col-12"},ae={class:"field"},ie={key:0,class:"p-error"},de={class:"col-12 md:col-6"},ne={class:"field"},re={key:0,class:"p-error"},ue={class:"col-12 md:col-6"},pe={class:"field"},me={key:0,class:"p-error"},ce={class:"col-12"},ve={class:"field-checkbox mb-3"},_e={key:0,class:"col-12"},be={class:"grid"},fe={class:"col-12 md:col-6"},ye={class:"field"},ge={key:0,class:"p-error"},Ve={class:"col-12 md:col-6"},we={class:"field"},xe={key:0,class:"p-error"},he={class:"col-12 md:col-6"},ke={class:"field"},Ee={key:0,class:"p-error"},Ue={class:"col-12 md:col-6"},je={class:"field"},Ce={key:0,class:"p-error"},Te={class:"col-12"},$e={class:"field"},Fe={class:"col-12"},Se={class:"field"},Pe={key:0,class:"p-error"},Ne={class:"col-12"},Be={class:"flex gap-2 justify-content-end"},De={__name:"CreateEpisodes",setup(Ae){const h=O(),y=M(),b=_(!1),g=_([]),l=_({}),o=_({episode_number:null,title:"",description:"",episode_type:"elimination",air_date:null,status:"scheduled",voting_open:!1,voting_start:null,voting_end:null,jury_weight:50,public_weight:50,participant_ids:[],notes:""}),k=[{label:"Eliminação",value:"elimination"},{label:"Final",value:"finale"},{label:"Especial",value:"special"},{label:"Audição",value:"audition"}],E=[{label:"Agendado",value:"scheduled"},{label:"Ao Vivo",value:"live"},{label:"Finalizado",value:"finished"}],U=async()=>{try{const p=await x.get("/api/web/episodes/participants/available");p.data.success&&(g.value=p.data.data)}catch(p){console.error("Erro ao carregar participantes:",p)}},j=async()=>{var p,e,v;b.value=!0,l.value={};try{const m=await x.post("/api/web/episodes",o.value);m.data.success&&(y.add({severity:"success",summary:"Sucesso",detail:m.data.message,life:3e3}),h.push("/admin/episodes"))}catch(m){((p=m.response)==null?void 0:p.status)===422&&(l.value=m.response.data.errors||{}),y.add({severity:"error",summary:"Erro",detail:((v=(e=m.response)==null?void 0:e.data)==null?void 0:v.message)||"Erro ao criar episódio",life:3e3})}finally{b.value=!1}};return q(()=>{U()}),(p,e)=>{const v=I,m=A,V=D,C=B,w=N,f=P,T=S,$=F;return d(),i("div",J,[s("div",R,[s("div",G,[s("div",H,[e[15]||(e[15]=s("h5",{class:"m-0"},"Novo Episódio",-1)),a(v,{label:"Voltar",icon:"pi pi-arrow-left",class:"p-button-outlined",onClick:e[0]||(e[0]=t=>p.$router.push("/admin/episodes"))})]),s("form",{onSubmit:z(j,["prevent"])},[s("div",K,[e[30]||(e[30]=s("div",{class:"col-12"},[s("h6",{class:"text-primary mb-3"},"Informações Básicas")],-1)),s("div",Q,[s("div",W,[e[16]||(e[16]=s("label",{for:"episode_number",class:"block text-900 font-medium mb-2"},[c(" Número do Episódio "),s("span",{class:"text-red-500"},"*")],-1)),a(m,{id:"episode_number",modelValue:o.value.episode_number,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.episode_number=t),min:1,max:999,showButtons:"",class:r([{"p-invalid":l.value.episode_number},"w-full"])},null,8,["modelValue","class"]),l.value.episode_number?(d(),i("small",X,u(l.value.episode_number),1)):n("",!0)])]),s("div",Y,[s("div",Z,[e[17]||(e[17]=s("label",{for:"episode_type",class:"block text-900 font-medium mb-2"},[c(" Tipo de Episódio "),s("span",{class:"text-red-500"},"*")],-1)),a(V,{id:"episode_type",modelValue:o.value.episode_type,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.episode_type=t),options:k,optionLabel:"label",optionValue:"value",placeholder:"Selecione o tipo",class:r([{"p-invalid":l.value.episode_type},"w-full"])},null,8,["modelValue","class"]),l.value.episode_type?(d(),i("small",ee,u(l.value.episode_type),1)):n("",!0)])]),s("div",se,[s("div",le,[e[18]||(e[18]=s("label",{for:"title",class:"block text-900 font-medium mb-2"},[c(" Título "),s("span",{class:"text-red-500"},"*")],-1)),a(C,{id:"title",modelValue:o.value.title,"onUpdate:modelValue":e[3]||(e[3]=t=>o.value.title=t),class:r([{"p-invalid":l.value.title},"w-full"]),placeholder:"Ex: Primeira Eliminação"},null,8,["modelValue","class"]),l.value.title?(d(),i("small",oe,u(l.value.title),1)):n("",!0)])]),s("div",te,[s("div",ae,[e[19]||(e[19]=s("label",{for:"description",class:"block text-900 font-medium mb-2"},"Descrição",-1)),a(w,{id:"description",modelValue:o.value.description,"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.description=t),rows:"4",class:r([{"p-invalid":l.value.description},"w-full"]),placeholder:"Descrição do episódio..."},null,8,["modelValue","class"]),l.value.description?(d(),i("small",ie,u(l.value.description),1)):n("",!0)])]),e[31]||(e[31]=s("div",{class:"col-12"},[s("h6",{class:"text-primary mb-3"},"Datas e Status")],-1)),s("div",de,[s("div",ne,[e[20]||(e[20]=s("label",{for:"air_date",class:"block text-900 font-medium mb-2"},[c(" Data de Transmissão "),s("span",{class:"text-red-500"},"*")],-1)),a(f,{id:"air_date",modelValue:o.value.air_date,"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.air_date=t),showTime:"",hourFormat:"24",class:r([{"p-invalid":l.value.air_date},"w-full"]),placeholder:"dd/mm/aaaa hh:mm",dateFormat:"dd/mm/yy"},null,8,["modelValue","class"]),l.value.air_date?(d(),i("small",re,u(l.value.air_date),1)):n("",!0)])]),s("div",ue,[s("div",pe,[e[21]||(e[21]=s("label",{for:"status",class:"block text-900 font-medium mb-2"},[c(" Status "),s("span",{class:"text-red-500"},"*")],-1)),a(V,{id:"status",modelValue:o.value.status,"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.status=t),options:E,optionLabel:"label",optionValue:"value",placeholder:"Selecione o status",class:r([{"p-invalid":l.value.status},"w-full"])},null,8,["modelValue","class"]),l.value.status?(d(),i("small",me,u(l.value.status),1)):n("",!0)])]),e[32]||(e[32]=s("div",{class:"col-12"},[s("h6",{class:"text-primary mb-3"},"Configurações de Votação")],-1)),s("div",ce,[s("div",ve,[a(T,{id:"voting_open",modelValue:o.value.voting_open,"onUpdate:modelValue":e[7]||(e[7]=t=>o.value.voting_open=t),binary:!0},null,8,["modelValue"]),e[22]||(e[22]=s("label",{for:"voting_open",class:"ml-2"},"Votação Aberta",-1))])]),o.value.voting_open?(d(),i("div",_e,[s("div",be,[s("div",fe,[s("div",ye,[e[23]||(e[23]=s("label",{for:"voting_start",class:"block text-900 font-medium mb-2"},[c(" Início da Votação "),s("span",{class:"text-red-500"},"*")],-1)),a(f,{id:"voting_start",modelValue:o.value.voting_start,"onUpdate:modelValue":e[8]||(e[8]=t=>o.value.voting_start=t),showTime:"",hourFormat:"24",class:r([{"p-invalid":l.value.voting_start},"w-full"]),placeholder:"dd/mm/aaaa hh:mm",dateFormat:"dd/mm/yy"},null,8,["modelValue","class"]),l.value.voting_start?(d(),i("small",ge,u(l.value.voting_start),1)):n("",!0)])]),s("div",Ve,[s("div",we,[e[24]||(e[24]=s("label",{for:"voting_end",class:"block text-900 font-medium mb-2"},[c(" Fim da Votação "),s("span",{class:"text-red-500"},"*")],-1)),a(f,{id:"voting_end",modelValue:o.value.voting_end,"onUpdate:modelValue":e[9]||(e[9]=t=>o.value.voting_end=t),showTime:"",hourFormat:"24",class:r([{"p-invalid":l.value.voting_end},"w-full"]),placeholder:"dd/mm/aaaa hh:mm",dateFormat:"dd/mm/yy"},null,8,["modelValue","class"]),l.value.voting_end?(d(),i("small",xe,u(l.value.voting_end),1)):n("",!0)])])])])):n("",!0),s("div",he,[s("div",ke,[e[25]||(e[25]=s("label",{for:"jury_weight",class:"block text-900 font-medium mb-2"},[c(" Peso do Júri (%) "),s("span",{class:"text-red-500"},"*")],-1)),a(m,{id:"jury_weight",modelValue:o.value.jury_weight,"onUpdate:modelValue":e[10]||(e[10]=t=>o.value.jury_weight=t),min:0,max:100,suffix:"%",class:r([{"p-invalid":l.value.jury_weight},"w-full"])},null,8,["modelValue","class"]),l.value.jury_weight?(d(),i("small",Ee,u(l.value.jury_weight),1)):n("",!0)])]),s("div",Ue,[s("div",je,[e[26]||(e[26]=s("label",{for:"public_weight",class:"block text-900 font-medium mb-2"},[c(" Peso Público (%) "),s("span",{class:"text-red-500"},"*")],-1)),a(m,{id:"public_weight",modelValue:o.value.public_weight,"onUpdate:modelValue":e[11]||(e[11]=t=>o.value.public_weight=t),min:0,max:100,suffix:"%",class:r([{"p-invalid":l.value.public_weight},"w-full"])},null,8,["modelValue","class"]),l.value.public_weight?(d(),i("small",Ce,u(l.value.public_weight),1)):n("",!0)])]),e[33]||(e[33]=s("div",{class:"col-12"},[s("h6",{class:"text-primary mb-3"},"Participantes")],-1)),s("div",Te,[s("div",$e,[e[27]||(e[27]=s("label",{class:"block text-900 font-medium mb-2"},"Selecionar Participantes",-1)),a($,{modelValue:o.value.participant_ids,"onUpdate:modelValue":e[12]||(e[12]=t=>o.value.participant_ids=t),options:g.value,optionLabel:"name",optionValue:"id",placeholder:"Selecione os participantes",filter:!0,class:"w-full",display:"chip"},null,8,["modelValue","options"]),e[28]||(e[28]=s("small",{class:"text-muted"}," Participantes que irão participar deste episódio ",-1))])]),s("div",Fe,[s("div",Se,[e[29]||(e[29]=s("label",{for:"notes",class:"block text-900 font-medium mb-2"},"Notas",-1)),a(w,{id:"notes",modelValue:o.value.notes,"onUpdate:modelValue":e[13]||(e[13]=t=>o.value.notes=t),rows:"3",class:r([{"p-invalid":l.value.notes},"w-full"]),placeholder:"Observações adicionais..."},null,8,["modelValue","class"]),l.value.notes?(d(),i("small",Pe,u(l.value.notes),1)):n("",!0)])]),s("div",Ne,[s("div",Be,[a(v,{label:"Cancelar",icon:"pi pi-times",class:"p-button-outlined",onClick:e[14]||(e[14]=t=>p.$router.push("/admin/episodes")),type:"button"}),a(v,{label:"Criar Episódio",icon:"pi pi-check",type:"submit",loading:b.value},null,8,["loading"])])])])],32)])])])}}},is=L(De,[["__scopeId","data-v-151219cb"]]);export{is as default};
