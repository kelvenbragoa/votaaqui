import{s as q}from"./index-B12H3bT2.js";import{s as V}from"./index-24jAc4I0.js";import{s as M}from"./index-B3_g3pMh.js";import{s as P}from"./index-BdVJXtgR.js";import{s as R}from"./index-Z6ehlZzN.js";import{x as T,r as s,y as U,o as Y,c as g,b as t,d as l,w as o,h as a,t as n,z as j,F as z,l as x,q as E}from"./app-B8O1oCuU.js";import{h as F}from"./moment-C5S46NFB.js";import{d as Q}from"./debounce-BMmXVQ06.js";import"./index-BzEFSWDQ.js";import"./index-DMXq-XN_.js";import"./index-hQ97aokG.js";import"./index-DV2v8N9W.js";import"./index-CTH6Yim5.js";import"./index-B9nFa2Qn.js";import"./index-D30t01VP.js";import"./index-RMhrKOfx.js";import"./index-BM4ojN0J.js";import"./index-BwT38ftM.js";import"./index-Bb3ejPmB.js";import"./index-BJT6iZqf.js";import"./index-Bx0oxzqV.js";import"./index-BkqKv2Q0.js";import"./index-05wL0Ocg.js";import"./index-BEC1ScWF.js";import"./index-C9M4N-a_.js";import"./index-DHkcSOh6.js";const H={key:0,class:"flex flex-col md:flex-row gap-12 min-h-screen items-center justify-center"},I={class:"w-full"},A={class:"flex flex-col gap-4 text-center"},G={key:1,class:"flex flex-col md:flex-row gap-12"},K={class:"w-full"},L={class:"card flex flex-col gap-4"},W={class:"w-full"},_e={__name:"ShowExitNotes",setup(J){const m=E(),p=T();s(null);const c=s(!0),f=s(!1);let b=s(null);const k=s(""),i=s(null),D=s(1);s(15),s(0);const v=s(!1);s([]);function w(){m&&m.back()}const h=()=>{v.value=!1},_=async(d=1)=>{axios.get(`/api/exitnotes/${m.currentRoute.value.params.id}?page=${d}`,{params:{query:k.value}}).then(e=>{i.value=e.data,c.value=!1}).catch(e=>{c.value=!1,p.add({severity:"error",summary:`${e}`,detail:"Message Detail",life:3e3}),w()})},C=()=>{f.value=!0,axios.delete(`/api/exitnotes/${b.value}`).then(()=>{i.value.data=i.value.data.filter(d=>d.id!==b.value),h(),p.add({severity:"success",summary:"Sucesso",detail:"Sucesso ao apagar",life:3e3})}).catch(d=>{p.add({severity:"error",summary:"Erro",detail:`${d}`,life:3e3}),f.value=!1}).finally(()=>{f.value=!1})},S=Q(()=>{_(D.value)},300);return U(k,S),Y(()=>{_()}),(d,e)=>{const $=R,y=P,u=M,B=V,N=q;return x(),g(z,null,[c.value?(x(),g("div",H,[t("div",I,[t("div",A,[l($,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),e[1]||(e[1]=t("p",null,"Por Favor Aguarde...",-1))])])])):(x(),g("div",G,[t("div",K,[t("div",L,[t("div",W,[l(y,{label:"Voltar",class:"mr-2 mb-2",onClick:w},{default:o(()=>e[2]||(e[2]=[t("i",{class:"pi pi-angle-left"},null,-1),a(" Voltar")])),_:1})]),e[10]||(e[10]=t("div",{class:"font-semibold text-xl"},"Saída de Stock",-1)),t("p",null,[e[3]||(e[3]=t("strong",null,"Referência:",-1)),a(" "+n(i.value.ref),1)]),t("p",null,[e[4]||(e[4]=t("strong",null,"Centro de Stock:",-1)),a(" "+n(i.value.stockcenter.name),1)]),t("p",null,[e[5]||(e[5]=t("strong",null,"Data:",-1)),a(" "+n(j(F)(i.value.transfer_date).format("DD-MM-YYYY H:mm")),1)]),t("p",null,[e[6]||(e[6]=t("strong",null,"Usuário:",-1)),a(" "+n(i.value.user.name),1)]),e[11]||(e[11]=t("hr",null,null,-1)),l(B,{value:i.value.itens,dataKey:"id",rowHover:!0,showGridlines:""},{header:o(()=>e[7]||(e[7]=[])),empty:o(()=>e[8]||(e[8]=[a("Nenhuma registro encontrado. ")])),loading:o(()=>e[9]||(e[9]=[a(" Carregando, por favor espere. ")])),default:o(()=>[l(u,{header:"ID",style:{"min-width":"12rem"}},{body:o(({data:r})=>[a(n(r.id),1)]),_:1}),l(u,{header:"Nome",style:{"min-width":"12rem"}},{body:o(({data:r})=>[a(n(r.product.name),1)]),_:1}),l(u,{header:"Stock Centro",style:{"min-width":"12rem"}},{body:o(({data:r})=>[a(n(i.value.stockcenter.name),1)]),_:1}),l(u,{header:"Ultima Quantidade",style:{"min-width":"12rem"}},{body:o(({data:r})=>[a(n(r.last_quantity),1)]),_:1}),l(u,{header:"Quantidade Retirada",style:{"min-width":"12rem"}},{body:o(({data:r})=>[a(n(r.quantity),1)]),_:1})]),_:1},8,["value"])])])])),l(N,{header:"Confirmação",visible:v.value,"onUpdate:visible":e[0]||(e[0]=r=>v.value=r),style:{width:"350px"},modal:!0},{footer:o(()=>[l(y,{label:"Não",icon:"pi pi-times",onClick:h,class:"p-button-text"}),l(y,{label:"Sim",icon:"pi pi-check",onClick:C,class:"p-button-text",autofocus:""})]),default:o(()=>[e[12]||(e[12]=t("div",{class:"flex align-items-center justify-content-center"},[t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),t("span",null,"Tem certeza que deseja proceder?")],-1))]),_:1},8,["visible"])],64)}}};export{_e as default};
