import{s as P}from"./index-CnszjjtJ.js";import{s as T}from"./index-DzcF86oG.js";import{s as V}from"./index-o3qi-ec1.js";import{u as _,r as s,w as E,o as M,c,a as l,b as r,e as v,d as a,t as o,g as Y,F as j,f as g,k as F}from"./app-DrVY5UIB.js";import{d as U,h as q}from"./moment-CQ1ixRO1.js";import"./index-BnfWDIPH.js";import"./index-OUojj5W6.js";import"./index--EEhPIfl.js";const z={key:0,class:"flex flex-col md:flex-row gap-12 min-h-screen items-center justify-center"},I={class:"w-full"},R={class:"flex flex-col gap-4 text-center"},h={key:1,class:"flex flex-col md:flex-row gap-12"},A={class:"w-full"},H={class:"card flex flex-col gap-4"},L={class:"w-full"},le={__name:"ShowSuppliers",setup(Q){const i=F(),u=_();s(null);const d=s(!0),p=s(!1);let x=s(null);const y=s(""),t=s(null),w=s(1);s(15),s(0);const m=s(!1);function b(){i&&i.back()}const k=()=>{m.value=!1},D=async(n=1)=>{axios.get(`/api/suppliers/${i.currentRoute.value.params.id}`,{params:{query:y.value}}).then(e=>{t.value=e.data,d.value=!1}).catch(e=>{d.value=!1,u.add({severity:"error",summary:`${e}`,detail:"Message Detail",life:3e3}),b()})},C=()=>{p.value=!0,axios.delete(`/api/suppliers/${x.value}`).then(()=>{t.value.data=t.value.data.filter(n=>n.id!==x.value),k(),u.add({severity:"success",summary:"Sucesso",detail:"Sucesso ao apagar",life:3e3})}).catch(n=>{u.add({severity:"error",summary:"Erro",detail:`${n}`,life:3e3}),p.value=!1}).finally(()=>{p.value=!1})},S=U(()=>{D(w.value)},300);return E(y,S),M(()=>{D()}),(n,e)=>{const B=V,f=T,N=P;return g(),c(j,null,[d.value?(g(),c("div",z,[l("div",I,[l("div",R,[r(B,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),e[1]||(e[1]=l("p",null,"Por Favor Aguarde...",-1))])])])):(g(),c("div",h,[l("div",A,[l("div",H,[l("div",L,[r(f,{label:"Voltar",class:"mr-2 mb-2",onClick:b},{default:v(()=>e[2]||(e[2]=[l("i",{class:"pi pi-angle-left"},null,-1),a(" Voltar")])),_:1})]),e[11]||(e[11]=l("div",{class:"font-semibold text-xl"},"Categoria",-1)),l("p",null,[e[3]||(e[3]=l("strong",null,"Nome:",-1)),a(" "+o(t.value.name),1)]),l("p",null,[e[4]||(e[4]=l("strong",null,"Endereço:",-1)),a(" "+o(t.value.address),1)]),l("p",null,[e[5]||(e[5]=l("strong",null,"Cidade:",-1)),a(" "+o(t.value.city),1)]),l("p",null,[e[6]||(e[6]=l("strong",null,"País:",-1)),a(" "+o(t.value.country),1)]),l("p",null,[e[7]||(e[7]=l("strong",null,"Email:",-1)),a(" "+o(t.value.name),1)]),l("p",null,[e[8]||(e[8]=l("strong",null,"NUIT:",-1)),a(" "+o(t.value.nuit),1)]),l("p",null,[e[9]||(e[9]=l("strong",null,"Telefone:",-1)),a(" "+o(t.value.mobile),1)]),l("p",null,[e[10]||(e[10]=l("strong",null,"Data:",-1)),a(" "+o(Y(q)(t.value.created_at).format("DD-MM-YYYY H:mm")),1)])])])])),r(N,{header:"Confirmação",visible:m.value,"onUpdate:visible":e[0]||(e[0]=$=>m.value=$),style:{width:"350px"},modal:!0},{footer:v(()=>[r(f,{label:"Não",icon:"pi pi-times",onClick:k,class:"p-button-text"}),r(f,{label:"Sim",icon:"pi pi-check",onClick:C,class:"p-button-text",autofocus:""})]),default:v(()=>[e[12]||(e[12]=l("div",{class:"flex align-items-center justify-content-center"},[l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),l("span",null,"Tem certeza que deseja proceder?")],-1))]),_:1},8,["visible"])],64)}}};export{le as default};
