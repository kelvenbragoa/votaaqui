import{_ as P,r as c,o as I,c as d,b as e,d as b,w as f,t as r,g as V,h as l,m as p,e as y,i as _,n as k,p as x,j as C,k as R,l as u,u as D,q as M}from"./app-nGuvejiM.js";const U={id:"header",class:"header d-flex align-items-center fixed-top"},B={class:"container-fluid container-xl position-relative d-flex align-items-center justify-content-between"},L={class:"d-none d-md-flex"},j={class:"nav-links d-flex list-unstyled mb-0"},A={class:"me-3"},G={class:"main"},$={class:"page-title dark-background",style:{"background-image":"url('/votaaqui/assets/img/events/showcase-9.webp')"}},z={class:"container position-relative"},F={class:"breadcrumbs"},H={id:"vote-form",class:"buy-tickets section"},O={class:"container"},J={class:"row justify-content-center"},K={class:"col-lg-8"},Q={class:"ticket-form-wrapper"},W={key:0,class:"text-center my-5"},X={key:1,class:"alert alert-danger",role:"alert"},Y={key:2},Z={class:"ticket-types"},ee={class:"ticket-option selected"},se={class:"participant-card"},te={class:"participant-image"},ae=["src","alt"],oe={class:"participant-info"},le={class:"participant-bio"},ie={class:"participant-details"},ne={key:0},de={key:1},re={key:2},ue={class:"row"},ve={class:"col-md-6"},ce={class:"form-group"},pe=["disabled"],me={class:"col-md-6"},be={class:"form-group"},fe=["disabled"],_e={class:"row"},ge={class:"col-md-6"},ye={class:"form-group"},ke=["disabled"],we={class:"col-md-6"},he={class:"form-group"},Ve=["disabled"],xe={class:"pricing-summary"},Ce={class:"summary-row"},Te={class:"ticket-name-display"},qe={class:"summary-row"},Ee={class:"quantity-display"},Ne={class:"terms-checkbox"},Se=["disabled"],Pe={class:"newsletter-checkbox"},Ie=["disabled"],Re={key:0,class:"loading"},De={key:1,class:"error-message"},Me={key:2,class:"sent-message"},Ue={class:"form-submit"},Be=["disabled"],Le={id:"footer",class:"footer position-relative dark-background"},je={class:"container footer-top"},Ae={class:"row gy-4"},Ge={class:"col-lg-4 col-md-6 footer-about"},$e={class:"col-lg-2 col-md-3 footer-links"},ze="/votaaqui/assets/img/events/speaker-4.webp",Fe={__name:"VotePage",setup(He){const T=D(),q=M(),o=c(null),w=c(!0),g=c(null),i=c(!1),m=c(null),h=c(!1),t=c({firstName:"",lastName:"",email:"",phone:"",acceptTerms:!1,newsletter:!1}),E=async()=>{try{w.value=!0,g.value=null;const n=T.params.id;if(!n)throw new Error("ID do participante não fornecido");const s=await C.get(`/api/participants/${n}`);o.value=s.data.data||s.data}catch(n){console.error("Erro ao carregar participante:",n),g.value="Não foi possível carregar as informações do participante. Verifique se o link está correto."}finally{w.value=!1}},N=async()=>{var n,s,v;try{i.value=!0,m.value=null,h.value=!1;const a={participant_id:o.value.id,voter_name:`${t.value.firstName} ${t.value.lastName}`,voter_email:t.value.email||null,voter_phone:t.value.phone||null,newsletter_subscription:t.value.newsletter};await C.post("/api/votes",a),h.value=!0,setTimeout(()=>{q.push("/")},3e3)}catch(a){console.error("Erro ao enviar voto:",a),((n=a.response)==null?void 0:n.status)===429?m.value="Limite de votos excedido. Tente novamente mais tarde.":(v=(s=a.response)==null?void 0:s.data)!=null&&v.message?m.value=a.response.data.message:m.value="Erro ao registrar voto. Tente novamente."}finally{i.value=!1}},S=n=>{n.target.src=ze};return I(()=>{E()}),(n,s)=>{const v=R("router-link");return u(),d("div",null,[e("header",U,[e("div",B,[b(v,{to:"/",class:"logo d-flex align-items-center"},{default:f(()=>s[9]||(s[9]=[e("h1",{class:"sitename"},"Votaaqui",-1)])),_:1}),e("nav",L,[e("ul",j,[e("li",A,[b(v,{to:"/",class:"nav-link"},{default:f(()=>s[10]||(s[10]=[e("i",{class:"bi bi-arrow-left me-1"},null,-1),l(" Voltar ")])),_:1})])])])])]),e("main",G,[e("div",$,[e("div",z,[s[13]||(s[13]=e("h1",null,"Vote no seu participante",-1)),s[14]||(s[14]=e("p",null,"Complete os dados para confirmar o seu voto.",-1)),e("nav",F,[e("ol",null,[e("li",null,[b(v,{to:"/"},{default:f(()=>s[11]||(s[11]=[l("Home")])),_:1})]),s[12]||(s[12]=e("li",{class:"current"},"Seu voto",-1))])])])]),e("section",H,[e("div",O,[e("div",J,[e("div",K,[e("div",Q,[w.value?(u(),d("div",W,s[15]||(s[15]=[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Carregando...")],-1),e("p",{class:"mt-3"},"Carregando informações do participante...",-1)]))):g.value?(u(),d("div",X,[s[17]||(s[17]=e("h5",null,"Erro ao carregar participante",-1)),e("p",null,r(g.value),1),b(v,{to:"/",class:"btn btn-outline-danger"},{default:f(()=>s[16]||(s[16]=[e("i",{class:"bi bi-arrow-left me-1"},null,-1),l(" Voltar à página inicial ")])),_:1})])):o.value?(u(),d("div",Y,[s[33]||(s[33]=V('<div class="event-info mb-5" data-v-bce9d55f><h3 data-v-bce9d55f>Reality Show - Estrelas do LIV</h3><div class="event-details" data-v-bce9d55f><div class="event-meta" data-v-bce9d55f><span data-v-bce9d55f><i class="bi bi-calendar-event" data-v-bce9d55f></i> Setembro 2025</span><span data-v-bce9d55f><i class="bi bi-geo-alt" data-v-bce9d55f></i> Moçambique</span><span data-v-bce9d55f><i class="bi bi-clock" data-v-bce9d55f></i> Votação 24h</span></div></div></div>',1)),e("div",Z,[s[21]||(s[21]=e("h4",null,"Participante selecionado",-1)),e("div",ee,[e("div",se,[e("div",te,[e("img",{src:o.value.photo_url||"/votaaqui/assets/img/events/speaker-4.webp",alt:o.value.name,class:"img-fluid",onError:S},null,40,ae)]),e("div",oe,[e("h5",null,r(o.value.stage_name||o.value.name),1),e("p",le,r(o.value.biography||"Participante do Reality Show"),1),e("div",ie,[o.value.age?(u(),d("span",ne,[s[18]||(s[18]=e("i",{class:"bi bi-person"},null,-1)),l(" "+r(o.value.age)+" anos ",1)])):p("",!0),o.value.city?(u(),d("span",de,[s[19]||(s[19]=e("i",{class:"bi bi-geo-alt"},null,-1)),l(" "+r(o.value.city),1)])):p("",!0),o.value.skills?(u(),d("span",re,[s[20]||(s[20]=e("i",{class:"bi bi-star"},null,-1)),l(" "+r(o.value.skills),1)])):p("",!0)])])])])]),e("form",{onSubmit:y(N,["prevent"]),class:"php-email-form ticket-form"},[e("div",ue,[e("div",ve,[e("div",ce,[s[22]||(s[22]=e("label",{for:"first_name"},"Nome *",-1)),_(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>t.value.firstName=a),id:"first_name",class:"form-control",required:"",disabled:i.value},null,8,pe),[[k,t.value.firstName]])])]),e("div",me,[e("div",be,[s[23]||(s[23]=e("label",{for:"last_name"},"Apelido *",-1)),_(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=a=>t.value.lastName=a),id:"last_name",class:"form-control",required:"",disabled:i.value},null,8,fe),[[k,t.value.lastName]])])])]),e("div",_e,[e("div",ge,[e("div",ye,[s[24]||(s[24]=e("label",{for:"email"},"Email",-1)),_(e("input",{type:"email","onUpdate:modelValue":s[2]||(s[2]=a=>t.value.email=a),id:"email",class:"form-control",disabled:i.value},null,8,ke),[[k,t.value.email]])])]),e("div",we,[e("div",he,[s[25]||(s[25]=e("label",{for:"phone"},"Contacto",-1)),_(e("input",{type:"tel","onUpdate:modelValue":s[3]||(s[3]=a=>t.value.phone=a),id:"phone",class:"form-control",disabled:i.value},null,8,Ve),[[k,t.value.phone]])])])]),e("div",xe,[s[28]||(s[28]=e("h5",null,"Resumo do Voto",-1)),e("div",Ce,[s[26]||(s[26]=e("span",null,"Voto em:",-1)),e("span",Te,r(o.value.stage_name||o.value.name),1)]),e("div",qe,[s[27]||(s[27]=e("span",null,"Código:",-1)),e("span",Ee,r(o.value.voting_code),1)]),s[29]||(s[29]=V('<div class="summary-row" data-v-bce9d55f><span data-v-bce9d55f>Tipo de voto:</span><span class="unit-price-display" data-v-bce9d55f>Gratuito</span></div><div class="summary-row total" data-v-bce9d55f><span data-v-bce9d55f>Total:</span><span class="total-price" data-v-bce9d55f>Grátis</span></div><div class="tax-note" data-v-bce9d55f>*Votação gratuita e ilimitada</div>',3))]),e("div",Ne,[_(e("input",{type:"checkbox",id:"terms","onUpdate:modelValue":s[4]||(s[4]=a=>t.value.acceptTerms=a),required:"",disabled:i.value},null,8,Se),[[x,t.value.acceptTerms]]),s[30]||(s[30]=e("label",{for:"terms"},[l(" Concordo com os "),e("a",{href:"#",target:"_blank"},"Termos e Condições"),l(" e "),e("a",{href:"#",target:"_blank"},"Política de Privacidade"),l(" * ")],-1))]),e("div",Pe,[_(e("input",{type:"checkbox",id:"newsletter","onUpdate:modelValue":s[5]||(s[5]=a=>t.value.newsletter=a),disabled:i.value},null,8,Ie),[[x,t.value.newsletter]]),s[31]||(s[31]=e("label",{for:"newsletter"}," Subscrever newsletter para atualizações do evento ",-1))]),i.value?(u(),d("div",Re,"Enviando voto...")):p("",!0),m.value?(u(),d("div",De,r(m.value),1)):p("",!0),h.value?(u(),d("div",Me," Seu voto foi registrado com sucesso! Obrigado por participar. ")):p("",!0),e("div",Ue,[e("button",{type:"submit",class:"btn-submit",disabled:i.value||!t.value.acceptTerms},[s[32]||(s[32]=e("i",{class:"bi bi-heart me-2"},null,-1)),l(" "+r(i.value?"Enviando...":"Confirmar Voto"),1)],8,Be)])],32),s[34]||(s[34]=V('<div class="security-info" data-v-bce9d55f><div class="security-badges" data-v-bce9d55f><div class="badge-item" data-v-bce9d55f><i class="bi bi-shield-check" data-v-bce9d55f></i><span data-v-bce9d55f>Voto Seguro</span></div><div class="badge-item" data-v-bce9d55f><i class="bi bi-lock" data-v-bce9d55f></i><span data-v-bce9d55f>Dados Protegidos</span></div><div class="badge-item" data-v-bce9d55f><i class="bi bi-arrow-clockwise" data-v-bce9d55f></i><span data-v-bce9d55f>Totalmente Gratuito</span></div></div></div>',1))])):p("",!0)])])])])])]),e("footer",Le,[e("div",je,[e("div",Ae,[e("div",Ge,[b(v,{to:"/",class:"logo d-flex align-items-center"},{default:f(()=>s[35]||(s[35]=[e("span",{class:"sitename"},"VotaAqui",-1)])),_:1}),s[36]||(s[36]=e("div",{class:"footer-contact pt-3"},[e("p",null,"Rua Principal, 123"),e("p",null,"Beira, Sofala, Moçambique"),e("p",{class:"mt-3"},[e("strong",null,"Telefone:"),l(),e("span",null,"+258 123 456 789")]),e("p",null,[e("strong",null,"Email:"),l(),e("span",null,"info@votaaqui.com")])],-1))]),e("div",$e,[s[38]||(s[38]=e("h4",null,"Links Úteis",-1)),e("ul",null,[e("li",null,[b(v,{to:"/"},{default:f(()=>s[37]||(s[37]=[l("Início")])),_:1})]),e("li",null,[e("a",{href:"#",onClick:s[6]||(s[6]=y(()=>{},["prevent"]))},"Sobre nós")]),e("li",null,[e("a",{href:"#",onClick:s[7]||(s[7]=y(()=>{},["prevent"]))},"Termos de serviço")]),e("li",null,[e("a",{href:"#",onClick:s[8]||(s[8]=y(()=>{},["prevent"]))},"Política de privacidade")])])])])]),s[39]||(s[39]=e("div",{class:"container copyright text-center mt-4"},[e("p",null,[l("© "),e("span",null,"Copyright"),l(),e("strong",{class:"px-1 sitename"},"VotaAqui"),l(),e("span",null,"Todos os direitos reservados")]),e("div",{class:"credits"}," Desenvolvido com ❤️ para o Reality Show Estrelas do LIV ")],-1))])])}}},Je=P(Fe,[["__scopeId","data-v-bce9d55f"]]);export{Je as default};
